<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Especialista SQL - MySQL Workbench</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --success: #2ecc71;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 20px;
        }
        
        .card-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-header {
            background: var(--secondary);
            color: white;
            padding: 15px 20px;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .card-body {
            padding: 20px;
        }
        
        .card-body ul {
            list-style-type: none;
            padding-left: 0;
        }
        
        .card-body li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        
        .card-body li:last-child {
            border-bottom: none;
        }
        
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
        }
        
        .keyword {
            color: #f92672;
        }
        
        .function {
            color: #a6e22e;
        }
        
        .comment {
            color: #75715e;
        }
        
        .comparison {
            margin: 40px 0;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background-color: var(--secondary);
            color: white;
        }
        
        tr:hover {
            background-color: #f5f5f5;
        }
        
        footer {
            background: var(--dark);
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: 40px;
        }
        
        @media (max-width: 768px) {
            .card-container {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Especialización en SQL con MySQL Workbench</h1>
        <p class="subtitle">Aprende sobre Triggers, Índices, Stored Procedures, Vistas y más para convertirte en un especialista en bases de datos</p>
    </header>
    
    <div class="container">
        <div class="card-container">
            <div class="card">
                <div class="card-header">Triggers</div>
                <div class="card-body">
                    <p>Los triggers (disparadores) son procedimientos que se ejecutan automáticamente cuando ocurre un evento específico en la base de datos.</p>
                    <ul>
                        <li>Se ejecutan antes o después de INSERT, UPDATE o DELETE</li>
                        <li>Útiles para validaciones, auditoría y mantener la integridad de datos</li>
                        <li>Pueden acceder a los valores antiguos y nuevos de los datos</li>
                    </ul>
                    <div class="code-block">
                        <span class="keyword">CREATE TRIGGER</span> <span class="function">auditoria_empleados</span><br>
                        <span class="keyword">BEFORE UPDATE ON</span> empleados<br>
                        <span class="keyword">FOR EACH ROW</span><br>
                        <span class="keyword">BEGIN</span><br>
                        &nbsp;&nbsp;<span class="keyword">INSERT INTO</span> auditoria_empleados<br>
                        &nbsp;&nbsp;<span class="keyword">SET</span> accion = <span class="function">'update'</span>,<br>
                        &nbsp;&nbsp;id_empleado = OLD.id,<br>
                        &nbsp;&nbsp;fecha = <span class="function">NOW()</span>;<br>
                        <span class="keyword">END</span>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">Índices</div>
                <div class="card-body">
                    <p>Los índices mejoran el rendimiento de las consultas al crear una estructura de datos que permite búsquedas más rápidas.</p>
                    <ul>
                        <li>Reducen el tiempo de búsqueda en tablas grandes</li>
                        <li>Pueden ser únicos o no únicos</li>
                        <li>Demasiados índices pueden ralentizar las operaciones de escritura</li>
                    </ul>
                    <div class="code-block">
                        <span class="comment">-- Crear índice simple</span><br>
                        <span class="keyword">CREATE INDEX</span> idx_apellido<br>
                        <span class="keyword">ON</span> empleados (apellido);<br>
                        <br>
                        <span class="comment">-- Crear índice compuesto</span><br>
                        <span class="keyword">CREATE INDEX</span> idx_nombre_apellido<br>
                        <span class="keyword">ON</span> empleados (nombre, apellido);<br>
                        <br>
                        <span class="comment">-- Crear índice único</span><br>
                        <span class="keyword">CREATE UNIQUE INDEX</span> idx_email_unique<br>
                        <span class="keyword">ON</span> clientes (email);
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">Stored Procedures</div>
                <div class="card-body">
                    <p>Los stored procedures (procedimientos almacenados) son conjuntos de sentencias SQL que se almacenan en el servidor y se ejecutan como una unidad.</p>
                    <ul>
                        <li>Mejoran el rendimiento al reducir el tráfico de red</li>
                        <li>Proporcionan mayor seguridad y encapsulación</li>
                        <li>Permiten lógica de negocio en la base de datos</li>
                    </ul>
                    <div class="code-block">
                        <span class="keyword">DELIMITER</span> //<br>
                        <span class="keyword">CREATE PROCEDURE</span> <span class="function">obtener_empleados_por_departamento</span> (<br>
                        &nbsp;&nbsp;<span class="keyword">IN</span> dept_id <span class="keyword">INT</span><br>
                        )<br>
                        <span class="keyword">BEGIN</span><br>
                        &nbsp;&nbsp;<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> empleados<br>
                        &nbsp;&nbsp;<span class="keyword">WHERE</span> id_departamento = dept_id;<br>
                        <span class="keyword">END</span> //<br>
                        <span class="keyword">DELIMITER</span> ;
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card-container">
            <div class="card">
                <div class="card-header">Vistas</div>
                <div class="card-body">
                    <p>Las vistas son consultas almacenadas que se comportan como tablas virtuales.</p>
                    <ul>
                        <li>Simplifican consultas complejas</li>
                        <li>Proporcionan una capa de seguridad al restringir acceso a datos sensibles</li>
                        <li>Pueden actualizarse en algunos casos (vistas actualizables)</li>
                    </ul>
                    <div class="code-block">
                        <span class="keyword">CREATE VIEW</span> vista_empleados_departamento <span class="keyword">AS</span><br>
                        <span class="keyword">SELECT</span> e.id, e.nombre, e.apellido, d.nombre AS departamento<br>
                        <span class="keyword">FROM</span> empleados e<br>
                        <span class="keyword">JOIN</span> departamentos d <span class="keyword">ON</span> e.id_departamento = d.id;<br>
                        <br>
                        <span class="comment">-- Usar la vista</span><br>
                        <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> vista_empleados_departamento<br>
                        <span class="keyword">WHERE</span> departamento = <span class="function">'Ventas'</span>;
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">Funciones</div>
                <div class="card-body">
                    <p>Las funciones son rutinas que devuelven un valor y pueden ser utilizadas en expresiones SQL.</p>
                    <ul>
                        <li>Pueden ser escalares (devuelven un único valor) o tabulares (devuelven una tabla)</li>
                        <li>Ayudan a modularizar el código SQL</li>
                        <li>Pueden ser determinísticas o no determinísticas</li>
                    </ul>
                    <div class="code-block">
                        <span class="keyword">DELIMITER</span> //<br>
                        <span class="keyword">CREATE FUNCTION</span> <span class="function">calcular_bono</span> (<br>
                        &nbsp;&nbsp;ventas <span class="keyword">DECIMAL</span>(10,2),<br>
                        &nbsp;&nbsp;antiguedad <span class="keyword">INT</span><br>
                        ) <span class="keyword">RETURNS</span> <span class="keyword">DECIMAL</span>(10,2)<br>
                        <span class="keyword">DETERMINISTIC</span><br>
                        <span class="keyword">BEGIN</span><br>
                        &nbsp;&nbsp;<span class="keyword">DECLARE</span> bono <span class="keyword">DECIMAL</span>(10,2);<br>
                        &nbsp;&nbsp;<span class="keyword">SET</span> bono = ventas * 0.1 + antiguedad * 50;<br>
                        &nbsp;&nbsp;<span class="keyword">RETURN</span> bono;<br>
                        <span class="keyword">END</span> //<br>
                        <span class="keyword">DELIMITER</span> ;
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">Jobs/Eventos</div>
                <div class="card-body">
                    <p>En MySQL, los eventos (equivalentes a Jobs en SQL Server) son tareas programadas que se ejecutan automáticamente.</p>
                    <ul>
                        <li>Útiles para mantenimiento, limpieza o reportes automatizados</li>
                        <li>Se ejecutan en intervalos específicos (diarios, semanales, etc.)</li>
                        <li>Requieren que el planificador de eventos esté activado</li>
                    </ul>
                    <div class="code-block">
                        <span class="comment">-- Activar el planificador de eventos</span><br>
                        <span class="keyword">SET GLOBAL</span> event_scheduler = ON;<br>
                        <br>
                        <span class="comment">-- Crear evento que se ejecuta diariamente</span><br>
                        <span class="keyword">CREATE EVENT</span> limpieza_diaria<br>
                        <span class="keyword">ON SCHEDULE EVERY 1 DAY</span><br>
                        <span class="keyword">STARTS</span> <span class="function">CURRENT_TIMESTAMP</span><br>
                        <span class="keyword">DO</span><br>
                        &nbsp;&nbsp;<span class="keyword">DELETE FROM</span> logs<br>
                        &nbsp;&nbsp;<span class="keyword">WHERE</span> fecha &lt; <span class="function">DATE_SUB</span>(<span class="function">NOW</span>(), <span class="keyword">INTERVAL</span> 30 <span class="keyword">DAY</span>);
                    </div>
                </div>
            </div>
        </div>
        
        <div class="comparison">
            <h2>Comparación entre SQL Server y MySQL</h2>
            <p>Aunque los conceptos son similares, hay diferencias sintácticas y de funcionalidad entre ambos sistemas de gestión de bases de datos:</p>
            
            <table>
                <thead>
                    <tr>
                        <th>Concepto</th>
                        <th>SQL Server</th>
                        <th>MySQL</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Procedimientos Almacenados</td>
                        <td>CREATE PROCEDURE</td>
                        <td>CREATE PROCEDURE (con DELIMITER)</td>
                    </tr>
                    <tr>
                        <td>Variables</td>
                        <td>DECLARE @variable</td>
                        <td>DECLARE variable (en procedures/functions)</td>
                    </tr>
                    <tr>
                        <td>Concatenación</td>
                        <td>+</td>
                        <td>CONCAT() o ||</td>
                    </tr>
                    <tr>
                        <td>Fecha y Hora</td>
                        <td>GETDATE()</td>
                        <td>NOW()</td>
                    </tr>
                    <tr>
                        <td>Top/Limit</td>
                        <td>TOP X</td>
                        <td>LIMIT X</td>
                    </tr>
                    <tr>
                        <td>Jobs Programados</td>
                        <td>SQL Server Agent Jobs</td>
                        <td>Event Scheduler</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <footer>
        <p>© 2023 Especialización en SQL con MySQL Workbench | Diseñado para ayudarte en tu camino hacia la especialización en bases de datos</p>
    </footer>
</body>
</html>